<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <title>Sprites não-Bitmap</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/default.css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section explaining non-bitmap sprites in GameMaker" />
  <meta name="search-keywords" content="SWF,Spine,skeleton animation,vector sprites" />
  <meta name="rh-index-keywords" content="Texture Goups - Non-Bitmap Sprites,SWF,Spine" />
</head>
<body>
  <h1>Sprites não-Bitmap</h1>
  <p><span data-keyref="GameMaker Name">O GameMaker</span> tem suporte para arquivos não-bitmap <span class="notranslate">sprites</span> na forma de arquivos <a class="glossterm" data-glossterm="vetor" href="#">vetoriais</a> <span class="inline">SWF </span>ou arquivos de <strong>Animação Esqueleto da Coluna Vertebral</strong>. Ambos os formatos têm seus prós e contras, e as duas seções abaixo explicam como importá-los para o <a href="../../The_Asset_Editors/Sprites.htm">Editor Sprite</a>, bem como um pouco de informação sobre como eles são desenhados.</p>
  <h2>Animação esquelética <span class="notranslate">Sprites</span> (<span class="notranslate">Spine</span>)</h2>
  <p>Um <span class="notranslate">sprite</span> feito usando animação esquelética, é aquele no qual um &quot;esqueleto&quot; básico foi criado e animado usando quadros-chave para mover as partes componentes do esqueleto ao longo do tempo. Este esqueleto é então esfolado de um <a class="glossterm" data-glossterm="atlas de textura" href="#">atlas de textura</a> e a animação resultante é exportada em um dos muitos tipos de arquivo. <span data-keyref="GameMaker Name">O GameMaker</span> permite importar este tipo de <span class="notranslate">sprite</span> desde que ele tenha sido exportado como um arquivo no formato <span class="inline">*.json</span> e tenha o arquivo atlas <span class="notranslate">texture</span> corretamente associado (<span class="inline">*.atlas</span>) e arquivo de imagem (como um <span class="inline">*.png</span>) <em>no mesmo diretório</em>.</p>
  <p><img>Atualmente <span data-keyref="GameMaker Name">o GameMaker</span> <strong>só</strong> pode <strong>importar imagens vetoriais de arquivos no formato JSON feitas pelo programa <a href="http://esotericsoftware.com/">Spine</a></strong>, porém a forma de importá-las para o programa é quase idêntica à de adicionar uma imagem bitmap normal. Para adicionar uma animação esquelética, você precisa criar um novo <span class="notranslate">sprite</span>, que trará o diálogo padrão <strong>Load Sprite</strong>, somente aqui você precisa ter certeza de ter selecionado <span class="inline">*.json</span> a partir do filtro de arquivo na parte inferior:</p>
  <p><img alt="Spine UI" class="center" src="../../assets/Images/Settings/Spine_Example.png" /></p>
  <p>Apertando o botão &quot;carregar&quot;, a animação esquelética será adicionada ao <a href="../../Introduction/The_Asset_Browser.htm">Navegador de Ativos</a> como um <span class="notranslate">sprite</span>, com uma barra de progresso sendo mostrada à medida que o arquivo é processado. Note que, dependendo da complexidade do arquivo, isto pode levar um ou dois momentos. Quando o processamento tiver terminado, você será retornado ao diálogo de propriedades <span class="notranslate">sprite</span>, que agora terá este aspecto:</p>
  <p><img>Uma vez importada a animação, você pode definir as propriedades de colisão, mas note que aqui você está limitado a simplesmente usar colisões precisas ou colisões de caixas de delimitação, e que os dados de colisão para uma animação esquelética são explicitamente extraídos dos dados fornecidos. <span data-keyref="GameMaker Name">O GameMaker</span> não gera nenhuma máscara de colisão se os dados estiverem faltando no arquivo importado, o que significa que você simplesmente não terá colisões funcionais se as máscaras não estiverem configuradas corretamente no programa utilizado para criar a imagem sendo importada.</p>
  <p class="note"><span class="note">OBSERVAÇÃO</span> Devido à complexidade das animações esqueléticas, a imagem prévia mostrada no editor <span class="notranslate">sprite</span> não pretende representar com precisão sua animação, mas sim dar-lhe uma imagem simples que represente a animação para visualização no editor <span class="notranslate">room</span>.</p>
  <p>Ao contrário do bitmap <span class="notranslate">sprites</span>, a animação esquelética importada <span class="notranslate">sprite</span> <strong>não pode ser modificada no editor de</strong> forma alguma, mas há uma série de funções disponíveis no <span class="notranslate">GameMaker Language</span> (<span class="notranslate">GML</span>) que podem ser usadas para mudar as peles, definir propriedades e controlar outros aspectos da animação. Você também não pode definir nenhuma das opções <span class="notranslate">texture</span> para o <span class="notranslate">sprite</span>, pois <span class="notranslate">GameMaker</span> usará o atlas <span class="notranslate">texture</span> fornecido que foi feito pelo programa que gerou o <span class="notranslate">sprite</span>.</p>
  <p>Há uma série de coisas que você deve estar ciente ao importar animação esqueleto <span class="notranslate">sprites</span>, sendo a mais importante que algumas das funções de gestão do desenho <span class="notranslate">sprite</span> e <span class="notranslate">sprite</span> não são suportadas por razões técnicas, particularmente aquelas funções de desenho que desenham apenas parte de um <span class="notranslate">sprite</span>, ou que &quot;enviesam&quot; a posição de alguma forma (veja o indivíduo <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a> funções para detalhes exatos dos quais). Entretanto, as funções básicas de desenho <span class="notranslate">sprite</span> são totalmente suportadas, assim como as variáveis incorporadas em <span class="notranslate">sprite</span>. Além destas funções e variáveis, você também pode definir e alterar as propriedades da animação usando funções especiais <span class="inline">skeleton_*</span>, que são listadas e explicadas na seção de referência sobre <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Skeletal_Animation.htm">Animações Esqueletais</a>.</p>
  <h2>Vetor <span class="notranslate">Sprites</span> (SWF)</h2>
  <p>Geralmente todos <span class="notranslate">sprites</span> em <span class="notranslate">GameMaker</span> usam bitmaps que - embora flexíveis em termos de conteúdo - colocam limitações tanto no tamanho quanto no número de quadros possíveis em um <span class="notranslate">sprite</span> antes que o uso de memória possa se tornar proibitivo. O Vector <span class="notranslate">sprites</span> trabalha em torno dessas limitações armazenando e desenhando seu conteúdo de forma diferente: em vez de uma grade de pixels, que pode se tornar em bloco ou difusa quando escalada, eles são desenhados como triângulos usando matemática vetorial e estes podem ser escalados para cima (ou para baixo) sem perder a definição, como ilustrado na imagem abaixo:</p>
  <p><img>Para ajudá-lo a visualizar como isto é feito, a imagem abaixo é do mesmo vetor Fireman <span class="notranslate">sprite</span> somente agora podemos ver os polígonos que são usados para fazer a imagem dentro do <span data-keyref="GameMaker Name">GameMaker</span>:</p>
  <p><img>Entretanto, nada é de graça quando se trata de programar jogos, e a troca aqui com o vetor <span class="notranslate">sprites</span> é que eles são mais caros de desenhar do que o bitmap <span class="notranslate">sprites</span> e esta diferença de velocidade aumenta à medida que a complexidade da animação sendo importada aumenta. Além disso, seu uso de memória é afetado por sua complexidade visual, ao contrário do bitmap <span class="notranslate">sprites</span>. Obedecendo a isso, eles tornam possível adicionar grandes gráficos animados de formas que seriam impossíveis usando o bitmapped tradicional <span class="notranslate">sprites</span>.</p>
  <p>Na virada da equação de desempenho, porque o vetor <span class="notranslate">sprites</span> apenas desenha os pixels absolutamente necessários (ao contrário do bitmap <span class="notranslate">sprites</span> que também &quot;desenha&quot; o espaço vazio ao redor da imagem) eles podem ser mais baratos do ponto de vista da GPU. Além disso, em geral o vetor <span class="notranslate">sprites</span> é muito menor do que seus equivalentes em bitmap - para o exemplo do bombeiro acima dos tamanhos dos vários tipos <span class="notranslate">sprite</span> são os seguintes:</p>
  <p class="code">Bitmap at 70x68 = 4x70x68 bytes x 12 frames = 223k<br />
    Vector = 54k</p>
  <p>Se você quadruplicar a resolução do duende:</p>
  <p class="code">Bitmap at 280x272 = 4x280x272 bytes x 12 frames = 3570k<br />
    Vector = 54k</p>
  <p>Portanto, como você pode ver, muita memória pode potencialmente ser salva usando o vetor <span class="notranslate">sprites</span>, e ainda temos muito potencial de economia de espaço no futuro.</p>
  <p>Atualmente <span data-keyref="GameMaker Name">o GameMaker</span> tem suporte <em>limitado </em>ao vetor <span class="notranslate">sprites</span>. e só pode importar imagens vetoriais de arquivos no formato <span class="inline">SWF</span>. A maneira de importá-las para o programa é quase idêntica à de adicionar uma imagem bitmap normal. Para adicionar um vetor <span class="notranslate">sprite</span>, crie um novo <span class="notranslate">sprite</span>, que trará o diálogo padrão Load <span class="notranslate">Sprite</span>, mas certifique-se de ter selecionado <span class="inline">*.swf</span> a partir do filtro de arquivo na parte inferior.</p>
  <p><img>Ao pressionar o botão &quot;carregar&quot;, a imagem vetorial ou animação será adicionada ao <a href="../../Introduction/The_Asset_Browser.htm">Navegador de Ativos</a>, com uma barra de progresso sendo mostrada à medida que o arquivo é processado. Note que, dependendo da complexidade do arquivo, isto pode levar algum tempo (até um minuto para animações mais complexas). Quando o processamento tiver terminado, você será retornado ao diálogo de propriedades <span class="notranslate">sprite</span>, que agora terá este aspecto:</p>
  <p><img>O editor <span class="notranslate">sprite</span> não terá mudado muito, mas agora o botão <strong>Edit Image</strong> foi desativado e não pode ser clicado, pois não há bitmaps para editar neste tipo de <span class="notranslate">sprite</span>. Em segundo lugar, todas as opções do <span class="notranslate">texture</span> também foram desativadas. SWF <span class="notranslate">sprites</span> são baseadas em matemática e, como tal, não costumam ter <span class="notranslate">textures</span> associado a elas, portanto nenhuma das opções disponíveis é aplicável para este tipo de <span class="notranslate">sprite</span>.</p>
  <p class="note"><span class="note">OBSERVAÇÃO</span> A aparência da imagem em seu editor de pré-visualização escolhido não será a mesma de seu jogo, nem da janela de pré-visualização do editor <span class="notranslate">sprite</span>. A imagem vetorial será importada no tamanho em que foi criada, que não é necessariamente o tamanho em que a pré-visualização é mostrada (os navegadores normalmente escalarão a imagem para caber, por exemplo).</p>
  <p>Uma adição ao editor <span class="notranslate">Sprite</span> é que você pode definir a <em>qualidade </em>do vetor <span class="notranslate">sprite</span> quando desenhado usando o deslizador de <strong>precisão SWF</strong> na parte superior. Isto simplesmente reduzirá ou aumentará o número de triângulos usados para gerar o <span class="notranslate">sprite</span> - com um valor de cerca de 50% sendo suficiente normalmente para a maioria dos jogos - entretanto você deve experimentar com este valor se estiver usando escalas extremas, ou se estiver tendo problemas de desempenho.</p>
  <p>Há uma série de coisas que você deve estar ciente ao importar o vetor <span class="notranslate">sprites</span>, sendo a mais importante que algumas das funções de gerenciamento do desenho <span class="notranslate">sprite</span> e <span class="notranslate">sprite</span> não são suportadas por razões técnicas, particularmente aquelas funções de desenho que desenham apenas parte de um <span class="notranslate">sprite</span>, ou que &quot;enviesam&quot; a posição de alguma forma (veja o indivíduo <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a> funções para detalhes exatos dos quais). Entretanto, as funções básicas de desenho <span class="notranslate">sprite</span> são totalmente suportadas, assim como as variáveis incorporadas em <span class="notranslate">sprite</span>. Você também pode definir diferentes valores <a class="glossterm" data-glossterm="anti-aliasing" href="#">anti-aliasing</a> (AA) para o SWF <span class="notranslate">sprites</span> sendo desenhado usando as funções <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_enable_swf_aa.htm">draw_enable_swf_aa()</a></span>, <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_get_swf_aa_level.htm">draw_get_swf_aa_level()</a></span> ou <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_set_swf_aa_level.htm">draw_set_swf_aa_level()</a></span>.</p>
  <p>Você também deve estar ciente do seguinte:</p>
  <ul class="colour">
    <li>Ao importar um arquivo <span class="inline">*.SWF</span>, Actionscript <em>não </em>é suportado, portanto, se seu SWF depende dele para funcionar corretamente, então provavelmente não vai dar certo. Da mesma forma, qualquer clip de filme embutido que tenha seu próprio <span class="notranslate">timeline</span> só terá seu primeiro frame exibido durante toda a animação - toda animação deve estar no principal <span class="notranslate">timeline</span>.</li>
    <li>Se seu arquivo vetorial tiver detalhes particularmente finos, você pode ocasionalmente descobrir que buracos ou triângulos estranhos aparecerão no resultado <span class="notranslate">sprites</span>. Isto porque, em pequenas escalas, a geometria pode às vezes colapsar para criar formas que simplesmente não triangulam bem. Neste caso você tem duas opções - você pode escalar o conteúdo do arquivo vetorial, o que dará ao importador mais <span class="notranslate">room</span> para brincar, ou você pode tentar reduzir o nível de detalhe no <span class="notranslate">object</span> que está quebrando.</li>
    <li><span data-keyref="GameMaker Name">O GameMaker</span> utiliza o tamanho do palco do SWF como os limites do resultado <span class="notranslate">sprite</span>. Entretanto, se você tiver alguma coisa no palco fora desses limites, ela ainda está desenhada. Isto significa que você deve tentar evitar colocar qualquer coisa fora dos limites de seu palco se não quiser que seja mostrado, ou usar uma camada de máscara para limitar o desenho a esta área.</li>
    <li>O tamanho do palco também afeta o tamanho de qualquer máscara de colisão que é gerada, portanto, se você tiver um grande tamanho de palco e muitos quadros em sua animação, você pode potencialmente devorar muita memória. Portanto, só use máscaras de colisão precisas se você realmente precisar delas.</li>
    <li>Como um arquivo SWF é criado a partir de múltiplas camadas, algumas das quais potencialmente se sobrepõem, o alfa não funciona da mesma forma que o bitmap <span class="notranslate">sprites</span> - áreas sobrepostas não parecerão tão transparentes quanto outras partes do <span class="notranslate">sprite</span>, pois os pixels lá estão sendo desenhados em múltiplas vezes.</li>
    <li>Os preenchimentos de bitmap <em>são </em>suportados, embora se você usar preenchimentos de bitmap em mosaico como parte de seu arquivo SWF, você precisa ter certeza de que o bitmap é um power-of-two em tamanho, caso contrário ele não <span class="notranslate">tile</span> corretamente. A renderização de texto também é suportada, mas você precisa incorporar o <span class="notranslate">font</span> em seu arquivo SWF para que ele apareça no <span class="notranslate">sprite</span> resultante. Além disso, atualmente só é suportado texto alinhado à esquerda com uma única linha.</li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Voltar: <a href="../Texture_Groups.htm">Grupos de Textura</a></div>
        <div style="float:right">A seguir: <a href="Texture_Pages.htm">Páginas de Textura</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos os direitos reservados</span></h5>
  </div>
</body>
</html>