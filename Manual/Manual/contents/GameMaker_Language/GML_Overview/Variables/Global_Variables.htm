<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Variáveis globais</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining global variables" />
  <meta name="rh-index-keywords" content="global,globalvar,Global Variables" />
  <meta name="search-keywords" content="global,global variables,globalvar" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Variáveis globais</h1>
  <p>Uma descrição básica de uma variável <strong>global </strong>é aquela que, uma vez declarada, não pertence a nenhuma instância em particular e ainda pode ser acessada por todos. Assim como as <a href="Local_Variables.htm">variáveis locais</a>, as variáveis globais devem ser declaradas usando um identificador, mas ao contrário de uma variável local, uma variável global permanece na memória <em>até o final do</em> jogo. Assim, você pode criar uma variável global para acompanhar (por exemplo) o número de balas que o jogador tem e depois apenas atualizar esta variável em diferentes pontos do jogo, formar qualquer instância ou função e a qualquer momento. Essencialmente, uma variável global não pertence a nenhuma instância específica e pode ser acessada, alterada e utilizada por todas as instâncias, e quaisquer mudanças feitas na variável são &quot;globais&quot;, na medida em que todas as instâncias que utilizam a variável serão afetadas pela mudança. Vamos dar uma olhada em um exemplo:</p>
  <p class="code">global.food = 5;</p>
  <p>Declaramos a variável &quot;<span class="inline">food</span>&quot; escrevendo primeiro &quot;<span class="inline">global</span>&quot; e depois uma &quot;<span class="inline">.</span>&quot; para dizer ao <span data-keyref="GameMaker Name">GameMaker</span> que esta variável é agora de escopo global. A partir de agora, precisaremos usar este formulário a qualquer momento que formos obrigados a acessar ou alterar esta variável de qualquer forma. Portanto, criamos uma nova variável chamada &quot;<span class="inline">food</span>&quot; e a declaramos como global. Agora, qualquer instância ou função pode usar e alterar esta variável de qualquer forma e todas as outras instâncias &quot;verão&quot; isto. Por exemplo, poderíamos ter um alimento diferente <span class="notranslate">object</span> com o qual o jogador colide e no evento de colisão que temos:</p>
  <p class="code">global.food +=1;</p>
  <p>Temos também outro <span class="notranslate">object</span> que extrai este valor assim:</p>
  <p class="code">draw_text(32, 32, &quot;food = &quot; + string(global.food));</p>
  <p>Com variáveis globais, podemos mudar os valores e ver essas mudanças refletidas em todas as instâncias do <span class="notranslate">objects</span> que fazem referência a essa variável. Assim como com as variáveis <i>locais</i>, é preciso tomar cuidado para não nomear suas variáveis globais da mesma forma que qualquer variável de instância que possa causar problemas e fazer com que os bugs se insinuem em seus jogos devido à sobreposição de variáveis, o que pode ser um problema difícil de depurar às vezes. Em geral, você deve ter um único <span class="notranslate">object</span> que declare todas as suas variáveis globais logo no início do jogo (por exemplo, no <a href="../../../The_Asset_Editors/Object_Properties/Other_Events.htm">Room Start Event</a> da primeira instância de objeto colocada no primeiro <span class="notranslate">room</span> do jogo) ou uma única <a href="../Script_Functions.htm">função de script</a> que as declare todas juntas, pois isso lhe dá um lugar útil para voltar e referenciar tudo de uma só vez caso você precise verificar o nome de uma variável ou editar um valor.</p>
  <p><span data-keyref="GameMaker Name">O GameMaker</span> também tem uma coleção de variáveis globais &quot;incorporadas&quot;, então você deve estar ciente delas, pois pode nomear uma de suas variáveis de instância como a mesma ou desejar ter sua própria variável global com o mesmo nome e se perguntar por que você está recebendo erros! No entanto, elas são fáceis de identificar, pois são mostradas em uma cor diferente no editor de código e também aparecem na barra de auto-completar na parte inferior. A maioria das variáveis globais integradas têm usos muito específicos são listadas nas seções apropriadas do manual - no entanto, há duas importantes que são usadas com freqüência e não são listadas em nenhum outro lugar:</p>
  <ul class="colour">
    <li><a href="Builtin_Global_Variables/async_load.htm"><span class="inline">async_load</span></a></li>
    <li><span class="inline"><a data-xref="{title}" href="../../GML_Reference/Game_Input/Gesture_Input/event_data.htm">event_data</a></span></li>
  </ul>
  <p>Há também três variáveis globais <b>depreciadas</b> que você deve estar ciente (estas variáveis são apenas projetadas para apoiar projetos legados das versões anteriores de <span class="notranslate">GameMaker</span> e devem <b><i>não ser utilizado em novos projetos</i></b>):</p>
  <ul class="colour">
    <li><a href="Builtin_Global_Variables/score.htm"><span class="inline">score</span></a></li>
    <li><a href="Builtin_Global_Variables/health.htm"><span class="inline">health</span></a></li>
    <li><a href="Builtin_Global_Variables/lives.htm"><span class="inline">lives</span></a></li>
  </ul>
  <p>Finalmente, há duas variáveis que podem ser usadas para funções e métodos <span class="notranslate">script</span>:</p>
  <ul class="colour">
    <li><span class="inline"><a href="Builtin_Global_Variables/argument.htm">argument</a></span></li>
    <li><span class="inline"><a href="Builtin_Global_Variables/argument_count.htm">argument_count</a></span></li>
  </ul>
  <p>O seguinte formulário também pode ser usado para declarar variáveis globais, mas é <i><b>incluído apenas para compatibilidade com versões anteriores</b></i>e não é recomendável que você utilize este formulário para novos projetos, pois as futuras versões do <span class="notranslate">GameMaker</span> podem não apoiá-lo.</p>
  <p>A segunda forma de criar variáveis globais é declará-las como tal usando a declaração <span class="inline">globalvar</span>, assim como uma variável local usando a declaração <span class="inline">var</span>.</p>
  <p class="note"><b>IMPORTANTE!</b> A declaração <span class="inline">globalvar</span> é <b>depreciada</b> e suportada apenas para fins de legado. Você deve <b>sempre</b> usar o identificador <span class="inline">global.</span> para marcar variáveis globais.</p>
  <p>Esta declaração (depreciada) seria utilizada da seguinte forma:</p>
  <p class="code">globalvar food;<br />
    food = 5;</p>
  <p>Uma vez declarada desta forma, a variável &quot;alimento&quot; agora é considerada global e não requer prefixo <span class="inline">global.</span> - o que também significa que é muito mais difícil identificar variáveis globais em seu código e também é muito mais fácil obter sobreposição de variáveis, pois você usa o mesmo nome de variável em diferentes <span class="notranslate">objects</span> ou a partir de <span class="notranslate">extensions</span> que você instalou. Uma vez declarada desta forma, a variável global é acessada da seguinte forma:</p>
  <p class="code">food += 2;</p>
  <p>ou:</p>
  <p class="code">draw_text(32, 32, &quot;food = &quot; + string(food));</p>
  <p>Como você pode ver, sem nada para mostrar que a variável é global no escopo, você está se preparando potencialmente para muitos problemas sutis que possam surgir em seu jogo, e é por isso que esta declaração deve ser evitada.</p>
  <p>Há algumas funções projetadas para ajudá-lo ao lidar com variáveis globais, que você pode encontrar na página seguinte:</p>
  <ul class="colour">
    <li><a href="../../GML_Reference/Variable_Functions/Variable_Functions.htm">Funções variáveis</a></li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Voltar: <a href="../Variables_And_Variable_Scope.htm">Variáveis e Escopo de Variáveis</a></div>
        <div style="float:right">A seguir: <a href="Constants.htm">Constantes</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos os direitos reservados</span></h5>
  </div>
  <!-- KEYWORDS
global
globalvar
global variables
-->
  <!-- TAGS
global_variables
-->
</body>
</html>