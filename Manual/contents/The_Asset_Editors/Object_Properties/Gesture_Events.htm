<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Eventos de gestos</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the gesture events." />
  <meta name="rh-index-keywords" content="Objects - Gesture Events,event_data" />
  <meta name="search-keywords" content="flick,pan,rotate,gesture,gesture events,tap" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/default.css" />
  <script src="../../assets/scripts/main_script.js"></script>
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Os eventos gestuais</h1>
  <p><img alt="The Gesture Events" class="center" src="../../assets/Images/Asset_Editors/Editor_Objects_Gesture.png" /></p>
  <p>Os eventos na categoria Eventos de gestos serão acionados sempre que o <span data-keyref="GameMaker Name">GameMaker</span> detectar um &quot;gesto&quot; do mouse ou um evento na tela de toque (embora estes eventos de gestos sejam projetados especificamente para uso móvel, eles também podem ser usados em outros alvos para detectar o mouse, embora não detectem toques múltiplos neste caso). O objetivo do sistema de gestos é tentar reconhecer entradas a um nível mais alto do que as funções de leitura direta por toque do mouse e é projetado para simplificar a implementação de entradas comumente usadas em dispositivos baseados no toque.</p>
  <p class="note"><span class="note">NOTA</span>: Estes eventos não serão acionados na plataforma HTML5 devido à falta de suporte para multi-toque usando estes eventos naquela plataforma. Se você estiver procurando por gestos nesse alvo, então você deve estar usando as <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/Device_Input.htm">funções do dispositivo</a>.</p>
  <p>Você pode optar por detectar gestos de <strong>instância </strong>ou gestos <strong>globais </strong>, onde os eventos de gestos de instância só serão acionados quando o toque/clique inicial estiver em uma instância dentro do <span class="notranslate">room</span>. Note que a instância deve ter uma máscara de colisão válida (veja as seções <a href="../Sprites.htm"> <span class="notranslate">Sprite</span> </a> Editor - Máscara de colisão e <a href="../Objects.htm"> <span class="notranslate">Object</span> </a> Editor - Máscara de colisão para mais detalhes) para que este evento seja acionado. Eventos globais, entretanto, serão acionados tocando/clicando em qualquer lugar dentro do jogo <span class="notranslate">room</span>, e para todas as instâncias que tenham o evento.</p>
  <p>Quando um gesto é reconhecido, ele desencadeará um ou mais dos eventos disponíveis, e o evento desencadeado dependerá do tipo de gesto que foi detectado. Em todos os casos, entretanto, um <a href="../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">DS Map</a> será gerado para você e armazenado na variável incorporada <span class="inline">event_data</span>. As chaves disponíveis dependerão do tipo de evento pelo qual ele foi criado e são mostradas em cada uma das subseções abaixo.</p>
  <p class="note"><strong>NOTA</strong>: A variável <span class="inline">event_data</span> só é válida nestes eventos, pois o mapa DS que ela aponta é automaticamente criado no início do evento, sendo depois destruído novamente no final, sendo esta variável redefinida para um valor -1 em todos os outros momentos.</p>
  <p>Vale notar que se você tiver múltiplas instâncias sob a posição que está sendo tocada e todas elas tiverem um evento gesto, então <em>todas </em>elas desencadearão, não apenas a instância &quot;mais alta&quot;. Observe também que ao usar múltiplas vistas de câmera e arrastar uma instância, os valores retornados serão baseados na vista em que você estava quando o toque/clique inicial foi recebido - isto é verdade para todos os eventos subseqüentes naquele gesto para aquela instância. Portanto, ao tocar e arrastar uma instância em uma visualização e depois liberar o toque em outra visualização, retornará valores relativos à visualização inicial onde o gesto foi detectado pela primeira vez.</p>
  <p> </p>
  <p><img>  <img>  <img><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#">Eventos Tap, Drag, And Flick</a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot">Os eventos &quot;Tap&quot;, &quot;Drag&quot; e &quot;Flick&quot; são todos baseados em um único toque ou clique do mouse na tela e o <span class="inline">event_data</span> DS Map conterá as seguintes teclas:</p>
    <ul class="dropspotlist">
    </ul>
    <table class=" cke_show_border">
      <tbody>
        <tr>
          <th>Chave</th>
          <th>Descrição</th>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">gesture</span>&quot;</td>
          <td><br> Este é um valor de identificação que é <i>exclusivo</i> do gesto que está em jogo. Isto permite ligar as diferentes partes dos gestos em várias partes (como início, arrasto e fim do arrasto).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">touch</span>&quot;</td>
          <td><br> Este é o índice do toque que está sendo usado para o gesto. Em geral isto começará em 0 e aumentará para cada dedo que for segurado para baixo, depois voltará a 0 quando todos os dedos forem removidos, mas se o usuário estiver tocando a tela
            em qualquer outro lugar quando este evento for acionado por outro toque, então o valor será maior que 0.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">posX</span>&quot;</td>
          <td><br> Esta é a posição de espaço X do toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">posY</span>&quot;</td>
          <td><br> Esta é a posição de espaço Y do toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">rawposX</span>&quot;</td>
          <td><br> Esta é a posição de espaço X da janela <i>bruta</i> do toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_x.htm"><span class="inline"><span class="inline">device_mouse_raw_x()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">rawposY</span>&quot;</td>
          <td><br> Esta é a posição em Y da janela em <i>bruto</i> do toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_y.htm"><span class="inline"><span class="inline">device_mouse_raw_y()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">guiposX</span>&quot;</td>
          <td><br> Esta é a posição gui-space X do toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_x_to_gui.htm"><span class="inline"><span class="inline">device_mouse_x_to_gui()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">guiposY</span>&quot;</td>
          <td><br> Esta é a posição gui-space Y do toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_y_to_gui.htm"><span class="inline"><span class="inline">device_mouse_y_to_gui()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">diffX</span>&quot;</td>
          <td><br> Esta é a diferença de espaço-espaço X entre a posição do toque atual e a posição do último toque neste gesto.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">diffY</span>&quot;</td>
          <td><br> Esta é a diferença de espaço Y entre a posição do toque atual e a posição do último toque neste gesto.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">rawdiffX</span>&quot;</td>
          <td><br> Esta é a X diferença bruta entre a posição do toque atual e a posição do último toque neste gesto.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">rawdiffY</span>&quot;</td>
          <td><br> Esta é a diferença em Y bruta entre a posição do toque atual e a posição do último toque neste gesto.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">guidiffX</span>&quot;</td>
          <td><br> Esta é a diferença gui-space X entre a posição do toque atual e a posição do último toque neste gesto.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">guidiffY</span>&quot;</td>
          <td><br> Esta é a diferença gui-space Y entre a posição do toque atual e a posição do último toque neste gesto.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">viewstartposX</span>&quot;</td>
          <td><br> Esta é a <span class="notranslate">room</span> X posição inicial do gesto atual.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">viewstartposY</span>&quot;</td>
          <td><br> Esta é a posição inicial <span class="notranslate">room</span> Y do gesto atual.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">rawstartposX</span>&quot;</td>
          <td><br> Esta é a posição de partida em bruto X do gesto atual.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">rawstartposY</span>&quot;</td>
          <td><br> Esta é a posição de partida em Y do gesto atual.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">guistartposX</span>&quot;</td>
          <td><br> Esta é a posição de partida gui-space X do gesto atual.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">guistartposY</span>&quot;</td>
          <td><br> Esta é a posição de partida gui-space Y do gesto atual.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;<span class="inline">isflick</span>&quot;</td>
          <td><b><br></b>
             <b>Disponível apenas no evento Drag End</b>. Isto é definido como 1 se o fim do evento de arrasto for detectado como um flick, o que significa que você não precisa de um <b>Flick Event</b> separado se você estiver lidando com o arrasto de qualquer forma.</td>
        </tr>
      </tbody>
    </table>
    <p> </p>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down11" href="#">Toque</a></p>
    <div class="droptext" data-targetname="drop-down11">
      <p class="dropspot">O evento Tap será acionado quando uma instância for tocada ou clicada ou - se for um evento global - quando o jogo registrar um toque ou clique em qualquer lugar no <span class="notranslate">room</span>. Um toque é considerado um toque e liberação rápidos, e se o toque também durar
        longo, então será considerado um Drag (e acionará os eventos de Drag ao invés do evento de Tap). Este evento gerará um mapa DS <span class="inline">event_data</span> que você poderá então utilizar para obter informações sobre o evento. Por exemplo:</p>
      <h4>Criar Evento</h4>
      <p class="code">x_goto = x;<br /> y_goto = y;</p>
      <h4>Evento de Torneira</h4>
      <p class="code">x_goto = event_data[? &quot;posX&quot;];<br /> y_goto = event_data[? &quot;posY&quot;];</p>
      <h4>Etapa Evento</h4>
      <p class="code">var _pd = point_distance(x, y, x_goto, y_goto);<br /> move_towards_point(x_goto, y_goto, clamp(_pd, 0, 5);</p>
      <p class="dropspot">O código acima detectará uma torneira na tela e então obterá a posição da torneira para mover a instância para essa posição. Note que se você quiser ter um tempo maior ou menor de detecção de torneira, então você pode configurá-la com a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_drag_time.htm"><span class="inline">gesture_drag_time()</span></a>.
        Isto define o tempo entre a detecção inicial e a torneira se tornando um arrasto, portanto, ajuste-o para um valor mais alto para tornar a detecção da torneira mais longa ou um valor mais baixo para torná-la mais curta (o valor é em segundos e o valor padrão é 0,16).</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down6" href="#">Torneira dupla</a></p>
    <div class="droptext" data-targetname="drop-down6">
      <p class="dropspot">O evento Double Tap será acionado quando uma instância for tocada ou clicada duas vezes em sucessão rápida (ou - se for um evento global - quando o jogo registrar dois toques ou cliques rápidos em qualquer lugar no <span class="notranslate">room</span>). Um toque duplo é considerado dois
        toques rápidos e liberações, mas se qualquer um dos toques durar muito tempo, será considerado um Drag (e acionar os eventos do gesto Drag em vez do evento Double Tap). Este evento irá gerar um DS <span class="inline">event_data</span> 
        mapa que você pode então utilizar para obter informações sobre o evento. Por exemplo:</p>
      <h4>Criar Evento</h4>
      <p class="code">x_goto = x;<br /> y_goto = y;</p>
      <h4>Evento Double Tap</h4>
      <p class="code">instance_destroy();</p>
      <p class="dropspot">O código acima simplesmente detecta uma torneira dupla e depois destrói a instância. Observe que você pode definir o tempo entre as torneiras para acionar uma torneira dupla usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_double_tap_time.htm"><span class="inline">gesture_double_tap_time()</span></a> (que
        tem um valor padrão - em segundos - de 0,16) e você também pode definir a distância para detecção entre as torneiras com a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_double_tap_distance.htm"><span class="inline">gesture_double_tap_distance()</span></a> (se
        uma segunda torneira é detectada fora desta distância e será considerada um evento de torneira regular).</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down7" href="#">Arrastar o início</a></p>
    <div class="droptext" data-targetname="drop-down7">
      <p class="dropspot">O evento Drag Start será acionado quando o usuário mantém um toque ou clique sem liberá-lo. Ele será acionado uma vez quando um tempo definido tiver passado após o toque inicial, que é de 0,16 segundos por padrão (embora você possa definir isto para qualquer
        outro valor em segundos usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_drag_time.htm"><span class="inline">gesture_drag_time()</span></a>). Após este evento ter sido acionado, e desde que
        o usuário tem um toque/clique realizado, então o evento de arrastar será acionado a cada passo até que o toque/clique tenha sido liberado. Este evento gerará um mapa DS <span class="inline">event_data</span> que poderá então ser utilizado para obter informações
        sobre o evento. Por exemplo:</p>
      <h4>Criar Evento</h4>
      <p class="code">drag_offsetX = 0;<br /> drag_offsetY = 0;</p>
      <h4>Evento de Arrastar</h4>
      <p class="code">drag_offsetX = x - event_data[?&quot;posX&quot;];<br /> drag_offsetY = y - event_data[?&quot;posY&quot;];</p>
      <p class="dropspot">O código acima usa o evento Drag Start para obter a posição do toque/clique e usá-lo para definir um valor de offset para os eixos x e y. Isto pode então ser usado ao arrastar a instância para garantir que ela não &quot;pule&quot; para a posição
        em que o toque/clique foi detectado (veja o evento de arrastamento abaixo para uma continuação deste exemplo).</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down8" href="#">Arrastando</a></p>
    <div class="droptext" data-targetname="drop-down8">
      <p class="dropspot">O evento de arrasto é acionado após o evento Drag Start, e será acionado para cada etapa que o usuário mantenha o toque/clique na instância (ou na tela, se for um evento global) e se mova mais do que o limite de arrasto definido.
        Esta distância é de 0,1 polegadas por padrão, mas pode ser definida usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_drag_distance.htm"><span class="inline">gesture_drag_distance()</span></a>. Se não houver
        movimento ou o movimento estiver abaixo do limite definido, o evento não será acionado. Este evento gerará um mapa DS <span class="inline">event_data</span> que você poderá utilizar para obter informações sobre o evento. Por exemplo:</p>
      <h4>Criar Evento</h4>
      <p class="code">drag_offsetX = 0;<br /> drag_offsetY = 0;</p>
      <h4>Evento de Arrastar</h4>
      <p class="code">drag_offsetX = x - event_data[?&quot;posX&quot;];<br /> drag_offsetY = y - event_data[?&quot;posY&quot;];</p>
      <h4>Evento de arrasto</h4>
      <p class="code">x = event_data[?&quot;posX&quot;] + drag_offsetX;<br /> y = event_data[?&quot;posY&quot;] + drag_offsetY;</p>
      <p class="dropspot">O código do exemplo acima usa as variáveis de offset definidas no evento Drag Start para mover a instância quando o evento Arrastar é acionado.</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down9" href="#">Extremidade de arrasto</a></p>
    <div class="droptext" data-targetname="drop-down9">
      <p class="dropspot">O evento Drag End é acionado quando o usuário libera o toque/clique na instância (ou na tela, se o evento for global). Este evento gerará um mapa DS <span class="inline">event_data</span> que poderá então ser utilizado para obter informações sobre
        o evento, mas neste caso o mapa terá uma chave extra: &quot;<span class="inline">isflick</span>&quot;. Flick é calculado como a distância por segundo que o arrasto ocorreu, e o valor para o &quot;<span class="inline">isflick</span>&quot;.
        será verdadeiro se for maior do que a distância definida por segundo, ou falso de outra forma. Observe que o valor padrão é 2 polegadas por segundo, mas você pode defini-lo para outro valor usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_flick_speed.htm"><span class="inline">gesture_flick_speed()</span></a>.
        Observe também que existe um evento Flick dedicado que também será acionado se a variável &quot;isflick&quot; for verdadeira. Um exemplo de uso seria:</p>
      <h4>Criar Evento</h4>
      <p class="code">flickVelX = 0.0;<br /> flickVelY = 0.0;</p>
      <h4>Evento Drag End</h4>
      <p class="code">isFlick = event_data[?&quot;isflick&quot;];<br /> if (isFlick)<br />     {<br />     flickVelX = event_data[?&quot;diffX&quot;];<br />     flickVelY = event_data[?&quot;diffY&quot;];<br />     }<br /> else
        <br />     {<br />     flickVelX = 0;<br />     flickVelY = 0;<br />     }
      </p>
      <h4>Etapa Evento</h4>
      <p class="code">x += flickVelX;<br /> y += flickVelY;<br /> flickVelX *= 0.7;<br /> flickVelY *= 0.7;</p>
      <p class="dropspot">O código acima simplesmente obtém a diferença na posição x e y do último evento de Arrastamento e do evento Drag End atual, e se o movimento foi maior que o limite do movimento, ele define algumas variáveis que são usadas para o movimento da instância
        no evento da etapa.</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down10" href="#">Flick</a></p>
    <div class="droptext" data-targetname="drop-down10">
      <p class="dropspot">O evento Flick só é acionado quando um toque/clique é realizado, arrastado e então liberado e a distância entre a última posição de arrasto e a posição de liberação é maior que 2 polegadas por segundo (esta é a configuração padrão, embora esta
        pode ser alterado usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_flick_speed.htm"><span class="inline">gesture_flick_speed()</span></a>). Este evento irá gerar um mapa DS <span class="inline">event_data</span> que você poderá utilizar para obter informações sobre o evento. Por exemplo:</p>
      <h4>Criar Evento</h4>
      <p class="code">flickVelX = 0.0;<br /> flickVelY = 0.0;</p>
      <h4>Flick Event</h4>
      <p class="code">flickVelX = event_data[?&quot;diffX&quot;];<br /> flickVelY = event_data[?&quot;diffY&quot;];</p>
      <h4>Etapa Evento</h4>
      <p class="code">x += flickVelX;<br /> y += flickVelY;<br /> flickVelX *= 0.7;<br /> flickVelY *= 0.7;</p>
      <p class="dropspot">O código acima simplesmente obtém a diferença na posição x e y do último evento de arrastamento e do evento Flick atual, e se o movimento tiver sido maior que o limite do flick, ele define algumas variáveis que são usadas para o movimento da instância em
        o evento da etapa.</p>
    </div>
    <p> </p>
  </div>
  <p><img><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">Eventos de Pinch</a> </p>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">Os eventos &quot;Pinch&quot; são baseados em dois toques na tela dos dispositivos sendo reconhecidos ao mesmo tempo, onde um (ou ambos) se moveram mais de uma certa distância. O ângulo de movimento dos toques, juntamente com o movimento de cada toque, é o que irá
      determinar a detecção de um evento Pinch ou Rotate, onde (no caso do tipo Pinch Event):</p>
    <ul class="dropspotlist">
      <li class="dropspot">Se um dos toques não estiver se movendo, o outro deve estar se movendo em direção a ele ou para longe dele dentro de um ângulo limite (que pode ser definido usando as funções <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_towards.htm"><span class="inline">gesture_pinch_angle_towards()</span></a> e
        - <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_away.htm"><span class="inline">gesture_pinch_angle_away()</span></a>).</li>
      <li class="dropspot">Se ambos os toques estiverem em movimento, suas velocidades devem estar em direções aproximadamente opostas e a mesma verificação do limiar angular também é feita para garantir que os toques estejam se movendo em alinhamento aproximado.</li>
    </ul>
    <p class="dropspot">Quando dois toques e um movimento são detectados com os critérios acima, um Pinch Event será acionado, e em cada um dos eventos o <span class="inline">event_data</span> DS Map será preenchido com as seguintes chaves:</p>
    <ul class="dropspotlist">
    </ul>
    <table class=" cke_show_border">
      <tbody>
        <tr>
          <th>Chave</th>
          <th>Descrição</th>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;gesture&quot;</span></td>
          <td><br> Este é um valor de identificação que é <i>exclusivo</i> do gesto que está em jogo. Isto permite ligar as diferentes partes dos gestos em várias partes (como início, arrasto e fim do arrasto).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;touch1&quot;</span></td>
          <td><br> Este é o índice do primeiro toque que está sendo usado como parte do gesto de beliscão. Em geral, este será 0, mas se o usuário estiver tocando a tela em qualquer outro lugar quando este evento for acionado por outro toque, então o valor será
            maior que 0.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;touch2&quot;</span></td>
          <td><br> Este é o índice do segundo toque que está sendo usado como parte do gesto de beliscão. Em geral será 1 a mais do que o valor do toque1, mas pode ser algum outro valor dependendo do número de toques detectados em outro lugar.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posX1&quot;</span></td>
          <td><br> Esta é a posição de espaço X da sala do primeiro toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posY1&quot;</span></td>
          <td><br> Esta é a posição de espaço Y do primeiro toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposX1&quot;</span></td>
          <td><br> Esta é a posição de espaço X da janela <i>bruta</i> do primeiro toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_x.htm"><span class="inline"><span class="inline">device_mouse_raw_x()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposY1&quot;</span></td>
          <td><br> Esta é a posição <i>em</i> Y do primeiro toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_y.htm"><span class="inline"><span class="inline">device_mouse_raw_y()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposX1&quot;</span></td>
          <td><br> Esta é a posição gui-space X do primeiro toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_x_to_gui.htm"><span class="inline"><span class="inline">device_mouse_x_to_gui()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposY1&quot;</span></td>
          <td><br> Esta é a posição gui-space Y do segundo toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_y_to_gui.htm"><span class="inline"><span class="inline">device_mouse_y_to_gui()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posX2&quot;</span></td>
          <td><br> Esta é a posição de espaço X da sala do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posY2&quot;</span></td>
          <td><br> Esta é a posição de espaço Y do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposX2&quot;</span></td>
          <td><br> Esta é a posição de espaço X da janela <i>bruta</i> do primeiro toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposY2&quot;</span></td>
          <td><br> Esta é a posição em Y da janela em <i>bruto</i> do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposX2&quot;</span></td>
          <td><br> Esta é a posição gui-space X do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposY2&quot;</span></td>
          <td><br> Esta é a posição gui-space Y do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;midpointX&quot;</span></td>
          <td><br> A posição X do ponto médio entre os dois toques no espaço <span class="notranslate">room</span>.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;midpointY&quot;</span></td>
          <td><br> A posição em Y do ponto médio entre os dois toques no espaço <span class="notranslate">room</span>.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawmidpointX&quot;</span></td>
          <td><br> Esta é a posição do ponto médio no espaço X da janela bruta.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawmidpointY&quot;</span></td>
          <td><br> Esta é a posição em Y do ponto médio da janela em bruto.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guimidpointX&quot;</span></td>
          <td><br> Esta é a posição gui-space X do ponto médio.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guimidpointY&quot;</span></td>
          <td><br> Esta é a posição gui-space Y do ponto médio.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;relativescale&quot;</span></td>
          <td><br> Esta é a diferença de escala em relação ao último evento deste gesto (assim, para <b>Pinch In</b> events isto será sempre menor que 1,0, enquanto para <b>Pinch Out</b> events será sempre maior que 1,0)</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;absolutescale&quot;</span></td>
          <td><br> Esta é a escala comparada com onde os dedos estavam quando o gesto começou (portanto, se a distância entre os dedos diminuiu pela metade, então esta será de 0,5, enquanto que se a distância duplicou será de 2,0).</td>
        </tr>
      </tbody>
    </table>
    <p class="dropspot"> </p>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down12" href="#">Início de pinch</a></p>
    <div class="droptext" data-targetname="drop-down12">
      <p class="dropspot">O evento Pinch Start será acionado quando uma instância (ou a tela se o evento for global) for tocada por dois &quot;dedos&quot; (e o toque é mantido) e então um ou ambos os &quot;dedos&quot; são movidos. Se os toques se moverem
        longe uns dos outros ou em direção uns aos outros mais do que a distância mínima de verificação (que é de 0,1 polegadas por padrão, mas pode ser definida usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_distance.htm"><span class="inline">gesture_pinch_distance()</span></a>),
        e o ângulo entre eles está dentro do valor definido (este valor padrão é de 45°, mas pode ser definido usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_towards.htm"><span class="inline">gesture_pinch_angle_towards()</span></a> e
        <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_away.htm"><span class="inline">gesture_pinch_angle_away()</span></a>), então um evento Pinch Start será acionado. Neste caso, você pode definir variáveis ou armazenar a data da posição para uso futuro. Por exemplo, o evento Pinch Start:
      </p>
      <h4>Evento Pinch Start</h4>
      <p class="code">pinching = true;<br /> pinch_x = event_data[? &quot;midpointX&quot;]; pinch_y = event_data[? &quot;midpointY&quot;];</p>
      <p class="dropspot">O código acima detectará um beliscão e armazenará a posição do meio para esse beliscão.</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down13" href="#">Beliscar dentro / beliscar fora</a></p>
    <div class="droptext" data-targetname="drop-down13">
      <p class="dropspot">Os eventos Pinch In e Pinch Out serão acionados a cada passo que a distância entre os dois toques que compõem o pinch muda acima do limite mínimo (ajustado para +/- 0,1 polegadas por padrão, mas você pode mudá-lo usando a função gesto_pinch_distance).
        Se não houver movimento dos toques de pitada, estes eventos não serão acionados. Estes eventos gerarão um mapa DS <span class="inline">event_data</span> que você poderá então utilizar para obter informações sobre o evento. Por exemplo, um mapa de DS:</p>
      <h4>Evento Global Pinch In /Pinch Out</h4>
      <p class="code">var _scale = event_data[? &quot;relativescale&quot;];<br /> var _w = camera_get_view_width(view_camera[0]);<br /> var _h = camera_get_view_height(view_camera[0]);<br /> var _x = camera_get_view_x(view_camera[0]) + (_w / 2);<br /> var _y = camera_get_view_y(view_camera[0])
        + (_h / 2);<br />
        <br /> _w *= _scale;<br /> _h = _w * (room_height / room_width);<br /> _x -= _w / 2;<br /> _y -= _h / 2;<br />
        <br /> camera_set_view_pos(view_camera[0], _x, _y);<br /> camera_set_view_size(view_camera[0], _w, _h);
      </p>
      <p class="dropspot">O código acima escalará a visão com base na escala relativa dos toques de beliscão.</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down14" href="#">Fim da pinça</a><strong></strong></p>
    <div class="droptext" data-targetname="drop-down14">
      <p class="dropspot">O evento Pinch End será acionado quando o usuário liberar um (ou ambos) dos toques do dispositivo. Este evento gerará um mapa DS <span class="inline">event_data</span> que poderá ser utilizado para obter informações sobre o evento. Para
        exemplo:</p>
      <h4>Evento Pinch End</h4>
      <p class="code">var _pinchx = event_data[? &quot;midpointX&quot;];<br /> var _pinchy = event_data[? &quot;midpointY&quot;];<br /> var _w = camera_get_view_width(view_camera[0]);<br /> var _h = camera_get_view_height(view_camera[0]);<br /> var _x = _pinchx - (_w / 2);<br /> var _y = _pinchy - (_h / 2);<br />
        <br /> camera_set_view_pos(view_camera[0], _x, _y);
      </p>
      <p class="dropspot">O código acima definirá a posição de visão a ser centrada no ponto médio dos dois toques que compõem a pitada quando os toques forem liberados.</p>
      <p><strong></strong></p>
    </div>
    <p class="dropspot"> </p>
  </div>
  <p><img><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down15" href="#">Rotacionar eventos</a></p>
  <div class="droptext" data-targetname="drop-down15">
    <p class="dropspot">Os eventos &quot;Rotate&quot; são baseados em dois toques na tela dos dispositivos sendo reconhecidos ao mesmo tempo, e onde houve uma rotação angular consistente entre os dois dentro de um tempo específico. O ângulo de movimento dos toques junto com o
      movimento de cada toque é o que determinará a detecção de um evento Pinch ou Rotate, onde (no caso do tipo Rotate Event):</p>
    <ul class="dropspotlist">
      <li class="dropspot">Dois toques devem ser realizados por um tempo mínimo especificado (o tempo padrão é de 0,16 segundos, mas você pode alterá-lo usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_time.htm"><span class="inline">gesture_rotate_time()</span></a>).</li>
      <li class="dropspot">Dentro deste período mínimo de tempo, eles devem girar em uma direção consistente (se a direção de rotação mudar dentro deste tempo, então nenhuma rotação é iniciada).</li>
      <li class="dropspot">A quantidade de rotação deve exceder o ângulo limite mínimo (que é definido como 5° por padrão, mas isso pode ser alterado usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_angle.htm"><span class="inline">gesture_rotate_angle()</span></a>).</li>
    </ul>
    <p class="dropspot">Quando dois toques e um movimento são detectados com os critérios acima, um Evento Rotativo será acionado, e em cada um dos eventos o Mapa DS <span class="inline">event_data</span> será preenchido com as seguintes chaves:</p>
    <ul class="dropspotlist">
    </ul>
    <table class=" cke_show_border">
      <tbody>
        <tr>
          <th>Chave</th>
          <th>Descrição</th>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;gesture&quot;</span></td>
          <td><br> Este é um valor de identificação que é <i>exclusivo</i> do gesto que está em jogo. Isto permite ligar as diferentes partes dos gestos em várias partes (como início, arrasto e fim do arrasto).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;touch1&quot;</span></td>
          <td><br> Este é o índice do primeiro toque que está sendo usado como parte do gesto de beliscão. Em geral, este será 0, mas se o usuário estiver tocando a tela em qualquer outro lugar quando este evento for acionado por outro toque, então o valor será
            maior que 0.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;touch2&quot;</span></td>
          <td><br> Este é o índice do segundo toque que está sendo usado como parte do gesto de beliscão. Em geral será 1 a mais do que o valor do toque1, mas pode ser algum outro valor dependendo do número de toques detectados em outro lugar.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posX1&quot;</span></td>
          <td><br> Esta é a posição de espaço X da sala do primeiro toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posY1&quot;</span></td>
          <td><br> Esta é a posição de espaço Y do primeiro toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposX1&quot;</span></td>
          <td><br> Esta é a posição de espaço X da janela <i>bruta</i> do primeiro toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_x.htm"><span class="inline"><span class="inline">device_mouse_raw_x()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposY1&quot;</span></td>
          <td><br> Esta é a posição <i>em</i> Y do primeiro toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_raw_y.htm"><span class="inline"><span class="inline">device_mouse_raw_y()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposX1&quot;</span></td>
          <td><br> Esta é a posição gui-space X do primeiro toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_x_to_gui.htm"><span class="inline"><span class="inline">device_mouse_x_to_gui()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposY1&quot;</span></td>
          <td><br> Esta é a posição gui-space Y do segundo toque (equivalente a obter a posição do mouse usando <a href="../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/device_mouse_y_to_gui.htm"><span class="inline"><span class="inline">device_mouse_y_to_gui()</span></a>).</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posX2&quot;</span></td>
          <td><br> Esta é a posição de espaço X da sala do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;posY2&quot;</span></td>
          <td><br> Esta é a posição de espaço Y do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposX2&quot;</span></td>
          <td><br> Esta é a posição de espaço X da janela <i>bruta</i> do primeiro toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawposY2&quot;</span></td>
          <td><br> Esta é a posição em Y da janela em <i>bruto</i> do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposX2&quot;</span></td>
          <td><br> Esta é a posição gui-space X do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guiposY2&quot;</span></td>
          <td><br> Esta é a posição gui-space Y do segundo toque.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;pivotX&quot;</span></td>
          <td><br> A posição X do ponto pivô de rotação no espaço <span class="notranslate">room</span>.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;pivotY&quot;</span></td>
          <td><br> A posição em Y do ponto pivô de rotação no espaço <span class="notranslate">room</span>.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawpivotX&quot;</span></td>
          <td><br> Esta é a posição do ponto pivô de rotação no espaço X da janela bruta.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;rawpivotY&quot;</span></td>
          <td><br> Esta é a posição em Y do ponto de rotação do pivô de janela bruta.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guipivotX&quot;</span></td>
          <td><br> Esta é a posição gui-space X do ponto pivô rotacional.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;guipivotY&quot;</span></td>
          <td><br> Esta é a posição gui-space Y do ponto pivô rotacional.</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;relativeangle&quot;</span></td>
          <td><br> Isto é uma diferença na rotação em relação ao último evento deste gesto, medido em graus</td>
        </tr>
        <tr>
          <td><span class="notranslate">&quot;absoluteangle&quot;</span></td>
          <td><br> Esta é a diferença de ângulo em relação a onde os dedos estavam quando o gesto começou, medido em graus. Assim, por exemplo, se os dedos tiverem girado um quarto de círculo desde o início do gesto, então este valor será de 90°.
            ou -90°, dependendo da direção da rotação.</td>
        </tr>
      </tbody>
    </table>
    <p> </p>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down16" href="#">Rodar a partida</a></p>
    <div class="droptext" data-targetname="drop-down16">
      <p class="dropspot">O evento Rotate Start será acionado quando uma instância (ou a tela se o evento for global) for tocada por dois &quot;dedos&quot; (e o toque é mantido) e então um ou ambos os &quot;dedos&quot; são girados desde seu início
        posição. A rotação dos toques precisa ter começado dentro de um curto período de tempo (0,16 segundos por padrão, mas pode ser definida usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_time.htm"><span class="inline">gesture_rotate_time()</span></a>)
        e ser maior do que o limite angular mínimo (por padrão 5°, mas isso pode ser alterado usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_angle.htm"><span class="inline">gesture_rotate_angle()</span></a>).
        Se estas verificações forem verdadeiras, então um evento Rotate Start será acionado e você poderá usá-lo para armazenar valores ou definir variáveis para uso com o restante dos eventos de rotação. Por exemplo, o evento Rotate Start:</p>
      <h4>Criar Evento</h4>
      <p class="code">rotating = false;<br /> view_a = camera_get_view_angle(view_camera[0]);</p>
      <h4>Evento de início de rotação</h4>
      <p class="code">rotating = true;</p>
      <p class="dropspot">O código acima simplesmente configura algumas variáveis para a rotação da câmera de visão e, em seguida, no evento Rotate Start, define uma delas como verdadeira.</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down17" href="#">Rotativo</a></p>
    <div class="droptext" data-targetname="drop-down17">
      <p class="dropspot">O evento rotativo será acionado a cada passo que os toques na tela girem ao redor um do outro, desde que o movimento seja maior que o limite angular mínimo (por padrão 5°, mas isso pode ser alterado usando a função <a href="../../GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_rotate_angle.htm"><span class="inline">gesture_rotate_angle()</span></a>).
        Este evento pode ser usado para definir variáveis e manipular instâncias, por exemplo:</p>
      <h4>Evento rotativo</h4>
      <p class="code">var _relangle = event_data[?&quot;relativeangle&quot;];<br /> var _a = camera_get_view_angle(view_camera[0]);<br /> _a += _relangle;<br /> camera_set_view_angle(view_camera[0], _a);</p>
      <p class="dropspot">O código acima gira a visão da câmera dependendo do movimento rotacional dos toques no evento.</p>
      <p class="dropspot"> <strong></strong></p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down18" href="#">Fim de rotação</a><strong></strong></p>
    <div class="droptext" data-targetname="drop-down18">
      <p class="dropspot">O evento Rotate End será acionado quando um (ou ambos) os toques que compõem o gesto forem liberados da tela do dispositivo. Este evento pode ser usado para definir variáveis e manipular instâncias, por exemplo:</p>
      <h4>Evento final de rotação</h4>
      <p class="code">rotating = false;</p>
      <h4>Etapa Evento</h4>
      <p class="code">if !rotating<br />     {<br />     var _a = camera_get_view_angle(view_camera[0]);<br />     var _adif = angle_difference(view_a, _a);<br />     _a += median(-5, _adif, 5);<br />     camera_set_view_angle(view_camera[0], _a);<br />     }</p>
      <p class="dropspot">O código acima usa o evento Rotate End para detectar quando o usuário interrompe o gesto e depois define uma variável. Esta variável é então utilizada no evento de etapa para girar a câmera de visão de volta à sua posição original.</p>
      <p class="dropspot"> </p>
    </div>
    <p class="dropspot"> </p>
  </div>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Voltar: <a href="Object_Events.htm">Eventos Objeto</a></div>
        <div style="float:right">A seguir: <a href="Event_Order.htm">Ordem do evento</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos os direitos reservados</span></h5>
  </div>
  <!-- KEYWORDS
Gesture Events
Flick Events
Pan Events
Rotate Events
Tap Events
Gestures
-->
  <!-- TAGS
gesture_events
-->
</body>
</html>